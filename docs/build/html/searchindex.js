Search.setIndex({"docnames": ["detector_physics", "index", "microphysics_simulation", "plugins/ChunkInput", "pmt_and_daq", "setup", "simulation_chain", "tutorials/Simulation_Refactor"], "filenames": ["detector_physics.rst", "index.rst", "microphysics_simulation.rst", "plugins/ChunkInput.rst", "pmt_and_daq.rst", "setup.rst", "simulation_chain.rst", "tutorials/Simulation_Refactor.ipynb"], "titles": ["Detector Physics Simulation", "Welcome to the documentation of XENON fuse!", "Microphysics Simulation", "ChunkInput", "PMT and DAQ Simulation", "Setting up fuse", "Simulation Chain", "Using XENON fuse"], "terms": {"i": [1, 6, 7], "next": 1, "gener": [1, 7], "xenonnt": [1, 5, 6, 7], "simul": 1, "softwar": 1, "It": [1, 7], "refactor": 1, "epix": 1, "wfsim": 1, "build": [1, 7], "modular": 1, "structur": 1, "us": 1, "strax": [1, 7], "straxen": [1, 7], "framework": 1, "everi": [1, 7], "step": [1, 6, 7], "put": [1, 6, 7], "dedic": [1, 7], "thi": [1, 6, 7], "allow": 1, "easi": [1, 6], "maintain": 1, "flexibl": 1, "wai": [1, 7], "add": [1, 6], "new": [1, 6], "featur": 1, "project": 1, "under": 1, "activ": 1, "develop": 1, "chang": [1, 7], "code": [1, 5, 7], "ar": [1, 6, 7], "made": 1, "regular": 1, "basi": 1, "set": [1, 7], "up": [1, 7], "chain": [1, 7], "detector": [1, 6], "physic": [1, 6], "pmt": [1, 6], "daq": [1, 6], "chunkinput": 1, "To": [5, 7], "instal": 5, "you": [5, 7], "need": [5, 7], "make": [5, 6, 7], "sure": 5, "have": [5, 7], "latest": 5, "version": 5, "nestpi": 5, "can": [5, 6, 7], "from": [5, 6, 7], "sourc": [5, 7], "run": [5, 7], "follow": 5, "command": 5, "git": 5, "clone": 5, "http": [5, 7], "github": 5, "com": 5, "nestcollabor": 5, "cd": 5, "submodul": 5, "updat": [5, 7], "init": 5, "recurs": 5, "pip": 5, "Then": 5, "its": 5, "time": [5, 7], "all": [5, 6, 7], "other": [5, 7], "depend": [5, 6, 7], "automat": [5, 7], "In": [6, 7], "fuse": 6, "separ": 6, "plugin": [6, 7], "togeth": 6, "exchang": 6, "while": 6, "keep": [6, 7], "rest": 6, "intact": 6, "As": [6, 7], "bonu": 6, "output": [6, 7], "easili": 6, "access": 6, "The": [6, 7], "divid": 6, "three": 6, "main": 6, "These": 6, "microphys": 6, "respons": [6, 7], "xenon": 6, "includ": 6, "cluster": [6, 7], "energi": [6, 7], "deposit": [6, 7], "calcul": [6, 7], "number": [6, 7], "photon": [6, 7], "electron": 6, "section": 6, "effect": [6, 7], "drift": [6, 7], "interact": [6, 7], "site": [6, 7], "liquid": [6, 7], "ga": [6, 7], "interfac": [6, 7], "where": [6, 7], "thei": 6, "extraxt": 6, "secondari": 6, "scintil": 6, "process": 6, "s1": 6, "s2": 6, "signal": [6, 7], "propag": 6, "additionali": 6, "delai": 6, "photo": 6, "ioniz": 6, "last": [6, 7], "cover": 6, "digit": 6, "raw_record": [6, 7], "data": [6, 7], "afterpuls": 6, "here": [6, 7], "well": 6, "A": 6, "visual": 6, "shown": 6, "figur": [6, 7], "below": [6, 7], "1": 7, "cutax": 7, "numpi": 7, "np": 7, "urlconfig": 7, "user": 7, "hennings": 7, "miniforge3": 7, "lib": 7, "python3": 7, "9": 7, "packag": 7, "numba": 7, "core": 7, "decor": 7, "py": 7, "262": 7, "numbadeprecationwarn": 7, "generated_jit": 7, "deprec": 7, "pleas": 7, "see": 7, "document": 7, "readthedoc": 7, "io": 7, "en": 7, "stabl": 7, "refer": 7, "html": 7, "jit": 7, "more": 7, "inform": 7, "advic": 7, "suitabl": 7, "replac": 7, "warn": 7, "msg": 7, "2023": 7, "08": 7, "16": 7, "17": 7, "32": 7, "22": 7, "907": 7, "utilix": 7, "could": 7, "load": 7, "configur": 7, "file": 7, "creat": 7, "one": 7, "xenon_config": 7, "custom": 7, "path": 7, "export": 7, "your": 7, "config": 7, "led_cal": 7, "led_calibr": 7, "213": 7, "39": 7, "nopython": 7, "keyword": 7, "argument": 7, "wa": 7, "suppli": 7, "implicit": 7, "default": 7, "valu": 7, "current": 7, "fals": 7, "true": 7, "0": 7, "59": 7, "object": 7, "mode": 7, "fall": 7, "back": 7, "behaviour": 7, "when": 7, "detail": 7, "def": 7, "calc_delta_tim": 7, "ext_timings_nv_delta_tim": 7, "puls": 7, "hitlets_nv": 7, "nv_pmt_start": 7, "nv_pmt_stop": 7, "tqdm": 7, "auto": 7, "21": 7, "tqdmwarn": 7, "iprogress": 7, "found": 7, "jupyt": 7, "ipywidget": 7, "user_instal": 7, "autonotebook": 7, "notebook_tqdm": 7, "modulenotfounderror": 7, "traceback": 7, "most": 7, "recent": 7, "call": 7, "lt": 7, "cell": 7, "line": 7, "3": 7, "gt": 7, "2": 7, "4": 7, "6": 7, "No": 7, "modul": 7, "name": 7, "handl": 7, "just": 7, "like": 7, "doe": 7, "our": 7, "first": 7, "part": 7, "full": 7, "correspond": 7, "group": 7, "micro_phys": 7, "we": 7, "defin": 7, "context": 7, "At": 7, "stage": 7, "dont": 7, "t": 7, "lot": 7, "so": 7, "insid": 7, "ha": 7, "predefin": 7, "microphyics_context": 7, "regist": 7, "u": 7, "afterward": 7, "st": 7, "set_config": 7, "If": 7, "want": 7, "try": 7, "own": 7, "root": 7, "feel": 7, "free": 7, "given": 7, "exampl": 7, "There": 7, "some": 7, "option": 7, "debug": 7, "print": 7, "out": 7, "dure": 7, "For": 7, "now": 7, "basic": 7, "statement": 7, "source_r": 7, "specifi": 7, "rate": 7, "hz": 7, "distribut": 7, "event": 7, "accord": 7, "n_interactions_per_chunk": 7, "chunk": 7, "base": 7, "an": 7, "algorithm": 7, "dynam": 7, "search": 7, "empti": 7, "interval": 7, "cut": 7, "With": 7, "paramet": 7, "lower": 7, "limit": 7, "per": 7, "geant4": 7, "someth": 7, "order": 7, "10k": 7, "100k": 7, "work": 7, "would": 7, "reccomend": 7, "10": 7, "1000": 7, "specif": 7, "cut_delai": 7, "remov": 7, "happen": 7, "after": 7, "sampl": 7, "deal": 7, "finish": 7, "yet": 7, "microphysics_context": 7, "folder": 7, "project2": 7, "lgrandi": 7, "test": 7, "file_nam": 7, "pmt_neutrons_100": 7, "nameerror": 7, "34": 7, "5": 7, "7": 7, "start": 7, "pick": 7, "type": 7, "run_numb": 7, "00000": 7, "geant4_interact": 7, "cluster_index": 7, "clustered_interact": 7, "electric_field_valu": 7, "quanta": 7, "microphysics_summari": 7, "did": 7, "crash": 7, "take": 7, "look": 7, "each": 7, "repres": 7, "singl": 7, "get_df": 7, "head": 7, "also": 7, "go": 7, "second": 7, "give": 7, "posit": 7, "along": 7, "know": 7, "how": 7, "continu": 7, "detector_phys": 7, "pmt_and_daq": 7, "level": 7, "usual": 7, "routin": 7, "do": 7, "full_chain_context": 7, "prepar": 7, "provid": 7, "dictionari": 7, "sr0": 7, "rememb": 7, "select": 7, "suffici": 7, "disk": 7, "space": 7, "propagated_s2_photon": 7, "bit": 7, "heavi": 7, "url_str": 7, "simple_load": 7, "resourc": 7, "format": 7, "fax_config_nt_sr0_v4": 7, "json": 7, "fmt": 7, "evaluate_dri": 7, "amp": 7, "out_dir": 7, "8": 7, "befor": 7, "let": 7, "note": 7, "manual": 7, "care": 7, "done": 7, "determin": 7, "mani": 7, "actual": 7, "record": 7, "quit": 7, "fast": 7, "fastsim": 7, "futur": 7, "guess": 7, "s1_photon": 7, "progress_bar": 7, "long": 7, "list": 7, "row": 7, "channel": 7, "attach": 7, "show": 7, "progress": 7, "bar": 7, "buggi": 7, "mislead": 7, "fraction": 7, "propagated_s1_photon": 7, "complic": 7, "than": 7, "thu": 7, "split": 7, "extract": 7, "them": 7, "reach": 7, "phase": 7, "same": 7, "11": 7, "drifted_electron": 7, "extracted_electron": 7, "electron_tim": 7, "s2_photon": 7, "s2_photons_sum": 7, "virtual": 7, "about": 7, "12": 7, "pmt_afterpuls": 7, "combin": 7, "ap": 7, "result": 7, "get": 7, "sould": 7, "veri": 7, "similar": 7, "real": 7, "tpc": 7, "13": 7, "necessari": 7, "should": 7, "alreadi": 7, "14": 7, "event_info": 7, "15": 7, "20": 7, "readm": 7, "find": 7, "s1photonhit": 7, "electrondrift": 7, "electronextract": 7, "secondaryscintil": 7, "produc": 7, "interactions_in_roi": 7, "data_kind": 7, "e": 7, "g": 7, "toget": 7, "exploit": 7, "integr": 7, "without": 7, "instruct": 7, "pass": 7, "save": 7, "two": 7, "function": 7, "monoenerget": 7, "gamma": 7, "mimic": 7, "kr83m": 7, "decai": 7, "panda": 7, "pd": 7, "monoenergetic_sourc": 7, "n": 7, "df": 7, "datafram": 7, "r": 7, "sqrt": 7, "random": 7, "uniform": 7, "2500": 7, "pi": 7, "xp": 7, "co": 7, "yp": 7, "sin": 7, "zp": 7, "150": 7, "xp_pri": 7, "yp_pri": 7, "zp_pri": 7, "ed": 7, "arrai": 7, "zero": 7, "evtid": 7, "arang": 7, "repeat": 7, "trackid": 7, "parentid": 7, "dtype": 7, "int32": 7, "creaproc": 7, "none": 7, "parenttyp": 7, "edproc": 7, "return": 7, "kr83m_exampl": 7, "half_lif": 7, "156": 7, "94e": 7, "kr": 7, "intermedi": 7, "state": 7, "half": 7, "life": 7, "decay_energi": 7, "kev": 7, "tile": 7, "dt": 7, "exponenti": 7, "log": 7, "zip": 7, "flatten": 7, "1e9": 7, "kr83": 7, "41": 7, "557": 7, "405": 7, "Not": 7, "sinc": 7, "classifi": 7, "onli": 7, "b": 7, "right": 7, "mind": 7, "mai": 7, "requir": 7, "properli": 7, "track": 7, "reconstruct": 7, "proper": 7, "parent": 7, "id": 7, "higher": 7, "longer": 7, "200": 7, "18": 7, "microphysics_instruct": 7, "to_csv": 7, "monoenergetic_200kev": 7, "again": 7, "detect": 7, "treat": 7, "accordingli": 7, "contain": 7, "reason": 7, "100": 7, "consist": 7, "least": 7, "19": 7, "4e14": 7, "00001": 7, "manuali": 7, "ask": 7, "event_info_data": 7, "end": 7, "subsect": 7, "unnecessari": 7, "scatterplot": 7, "23": 7, "matplotlib": 7, "pyplot": 7, "plt": 7, "scipi": 7, "stat": 7, "gaussian_kd": 7, "fig": 7, "ax": 7, "gca": 7, "set_xlim": 7, "2000": 7, "set_ylim": 7, "15000": 7, "60000": 7, "xdata": 7, "cs1_wo_timecorr": 7, "ydata": 7, "cs2_wo_timecorr": 7, "xy": 7, "vstack": 7, "z": 7, "scatter": 7, "c": 7, "": 7, "cmap": 7, "viridi": 7, "set_xlabel": 7, "cs1": 7, "pe": 7, "set_ylabel": 7, "cs2": 7, "differ": 7, "simpl": 7, "24": 7, "build_random_instruct": 7, "x": 7, "y": 7, "130": 7, "5000": 7, "exciton": 7, "e_field": 7, "nestid": 7, "respect": 7, "eventid": 7, "25": 7, "detectorphysics_instruct": 7, "random_detectorphysics_instruct": 7, "index": 7, "lazi": 7, "case": 7, "hijack": 7, "chunkcsvinput": 7, "26": 7, "input_fil": 7, "00002": 7, "27": 7, "28": 7, "29": 7}, "objects": {}, "objtypes": {}, "objnames": {}, "titleterms": {"detector": [0, 7], "physic": [0, 7], "simul": [0, 2, 4, 6, 7], "welcom": 1, "document": 1, "xenon": [1, 7], "fuse": [1, 5, 7], "setup": 1, "basic": 1, "microphys": [1, 2, 7], "plugin": 1, "chunkinput": 3, "pmt": [4, 7], "daq": [4, 7], "set": 5, "up": 5, "chain": 6, "overview": 6, "usag": 1, "us": 7, "import": 7, "former": 7, "epix": 7, "electron": 7, "wfsim": 7, "s1": 7, "s2": 7, "afterpuls": 7, "process": 7, "csv": 7, "input": 7}, "envversion": {"sphinx.domains.c": 3, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 9, "sphinx.domains.index": 1, "sphinx.domains.javascript": 3, "sphinx.domains.math": 2, "sphinx.domains.python": 4, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "nbsphinx": 4, "sphinx": 58}, "alltitles": {"Detector Physics Simulation": [[0, "detector-physics-simulation"]], "Welcome to the documentation of XENON fuse!": [[1, "welcome-to-the-documentation-of-xenon-fuse"]], "Setup and basics": [[1, null]], "Usage": [[1, null]], "Microphysics Plugins": [[1, null]], "Microphysics Simulation": [[2, "microphysics-simulation"]], "ChunkInput": [[3, "chunkinput"]], "PMT and DAQ Simulation": [[4, "pmt-and-daq-simulation"]], "Setting up fuse": [[5, "setting-up-fuse"]], "Simulation Chain": [[6, "simulation-chain"]], "Simulation overview": [[6, "simulation-overview"]], "Using XENON fuse": [[7, "Using-XENON-fuse"]], "Imports": [[7, "Imports"]], "Microphysics simulation (former epix)": [[7, "Microphysics-simulation-(former-epix)"]], "Detector and Electronics Simulation (former WFSim)": [[7, "Detector-and-Electronics-Simulation-(former-WFSim)"]], "Microphysics": [[7, "Microphysics"], [7, "id1"]], "S1 Simulation": [[7, "S1-Simulation"]], "S2 Simulations": [[7, "S2-Simulations"]], "PMT Afterpulses": [[7, "PMT-Afterpulses"]], "PMT and DAQ": [[7, "PMT-and-DAQ"]], "Processing": [[7, "Processing"]], "CSV Input": [[7, "CSV-Input"]], "Detector Physics": [[7, "Detector-Physics"]]}, "indexentries": {}})