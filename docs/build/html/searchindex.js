Search.setIndex({"docnames": ["detector_physics", "index", "microphysics_simulation", "plugins/detector_physics/Delayed_Electrons", "plugins/detector_physics/ElectronDrift", "plugins/detector_physics/ElectronExtraction", "plugins/detector_physics/ElectronTiming", "plugins/detector_physics/S1PhotonHits", "plugins/detector_physics/S1PhotonPropagation", "plugins/detector_physics/S2PhotonPropagation", "plugins/detector_physics/SecondaryScintillation", "plugins/micro_physics/ChunkInput", "plugins/micro_physics/ElectricField", "plugins/micro_physics/FindCluster", "plugins/micro_physics/MergeCluster", "plugins/micro_physics/MicrophysicsSummary", "plugins/micro_physics/NestYields", "plugins/micro_physics/VolumesMerger", "plugins/micro_physics/XENONnT_BelowCathode", "plugins/micro_physics/XENONnT_TPC", "plugins/pmt_and_daq/PMTAfterPulses", "plugins/pmt_and_daq/PMTResponseAndDAQ", "plugins/pmt_and_daq/PhotonSummary", "pmt_and_daq", "setup", "simulation_chain", "tech_features/DeterministicSeed", "tech_features/DynamicChunking", "tutorials/Simulation_Refactor"], "filenames": ["detector_physics.rst", "index.rst", "microphysics_simulation.rst", "plugins/detector_physics/Delayed_Electrons.rst", "plugins/detector_physics/ElectronDrift.rst", "plugins/detector_physics/ElectronExtraction.rst", "plugins/detector_physics/ElectronTiming.rst", "plugins/detector_physics/S1PhotonHits.rst", "plugins/detector_physics/S1PhotonPropagation.rst", "plugins/detector_physics/S2PhotonPropagation.rst", "plugins/detector_physics/SecondaryScintillation.rst", "plugins/micro_physics/ChunkInput.rst", "plugins/micro_physics/ElectricField.rst", "plugins/micro_physics/FindCluster.rst", "plugins/micro_physics/MergeCluster.rst", "plugins/micro_physics/MicrophysicsSummary.rst", "plugins/micro_physics/NestYields.rst", "plugins/micro_physics/VolumesMerger.rst", "plugins/micro_physics/XENONnT_BelowCathode.rst", "plugins/micro_physics/XENONnT_TPC.rst", "plugins/pmt_and_daq/PMTAfterPulses.rst", "plugins/pmt_and_daq/PMTResponseAndDAQ.rst", "plugins/pmt_and_daq/PhotonSummary.rst", "pmt_and_daq.rst", "setup.rst", "simulation_chain.rst", "tech_features/DeterministicSeed.rst", "tech_features/DynamicChunking.rst", "tutorials/Simulation_Refactor.ipynb"], "titles": ["Detector Physics Simulation", "Welcome to the documentation of XENON fuse!", "Microphysics Simulation", "Delayed Electrons", "ElectronDrift", "ElectronExtraction", "ElectronTiming", "S1PhotonHits", "S1PhotonPropagation", "S2PhotonPropagation", "SecondaryScintillation", "ChunkInput", "ElectricField", "FindCluster", "MergeCluster", "MicrophysicsSummary", "NestYields", "VolumesMerger", "XENONnT_BelowCathode", "XENONnT_TPC", "PMTAfterPulses", "PMTResponseAndDAQ", "PhotonSummary", "PMT and DAQ Simulation", "Setting up fuse", "Simulation Chain", "Deterministic Random Seed", "Dynamic Chunking", "Using XENON fuse"], "terms": {"s1photonhit": [0, 28], "s1photonpropag": 0, "electrondrift": [0, 28], "electronextract": [0, 28], "electrontim": 0, "secondaryscintil": [0, 28], "s2photonpropag": 0, "delai": [0, 25], "electron": [0, 25], "i": [1, 25, 28], "next": 1, "gener": [1, 28], "xenonnt": [1, 24, 25, 28], "simul": 1, "softwar": 1, "It": [1, 28], "refactor": 1, "epix": 1, "wfsim": 1, "build": [1, 28], "modular": 1, "structur": 1, "us": 1, "strax": [1, 28], "straxen": [1, 28], "framework": 1, "everi": [1, 28], "step": [1, 25, 28], "put": [1, 25, 28], "dedic": [1, 28], "plugin": [1, 25, 28], "thi": [1, 25, 28], "allow": 1, "easi": [1, 25], "maintain": 1, "flexibl": 1, "wai": [1, 28], "add": [1, 25], "new": [1, 25], "project": 1, "under": 1, "activ": 1, "develop": 1, "chang": [1, 28], "code": [1, 24, 28], "ar": [1, 25, 28], "made": 1, "regular": 1, "basi": 1, "set": [1, 28], "up": [1, 28], "chain": [1, 28], "microphys": [1, 25], "detector": [1, 25], "physic": [1, 25], "pmt": [1, 25], "daq": [1, 25], "determinist": 1, "random": [1, 28], "seed": 1, "dynam": [1, 28], "chunk": [1, 28], "chunkinput": 2, "findclust": 2, "mergeclust": 2, "xenonnt_tpc": 2, "xenonnt_belowcathod": 2, "volumesmerg": 2, "electricfield": 2, "nestyield": 2, "microphysicssummari": 2, "To": [24, 28], "retriev": [], "list": 28, "ingredi": [], "you": [24, 28], "can": [24, 25, 28], "fuse": 25, "micro_phys": 28, "class": [], "pmtafterpuls": 23, "photonsummari": 23, "pmtresponseanddaq": 23, "instal": 24, "need": [24, 28], "make": [24, 25, 28], "sure": 24, "have": [24, 28], "latest": 24, "version": 24, "nestpi": 24, "from": [24, 25, 28], "sourc": [24, 28], "run": [24, 28], "follow": 24, "command": 24, "git": 24, "clone": 24, "http": [24, 28], "github": 24, "com": 24, "nestcollabor": 24, "cd": 24, "submodul": 24, "updat": [24, 28], "init": 24, "recurs": 24, "pip": 24, "Then": 24, "its": 24, "time": [24, 28], "all": [24, 25, 28], "other": [24, 28], "depend": [24, 25, 28], "automat": [24, 28], "In": [25, 28], "separ": 25, "togeth": 25, "exchang": 25, "while": 25, "keep": [25, 28], "rest": 25, "intact": 25, "As": [25, 28], "bonu": 25, "output": [25, 28], "easili": 25, "access": 25, "The": [25, 28], "divid": 25, "three": 25, "main": 25, "These": 25, "respons": [25, 28], "xenon": 25, "includ": 25, "cluster": [25, 28], "energi": [25, 28], "deposit": [25, 28], "calcul": [25, 28], "number": [25, 28], "photon": [25, 28], "section": 25, "effect": [25, 28], "drift": [25, 28], "interact": [25, 28], "site": [25, 28], "liquid": [25, 28], "ga": [25, 28], "interfac": [25, 28], "where": [25, 28], "thei": 25, "extraxt": 25, "secondari": 25, "scintil": 25, "process": 25, "s1": 25, "s2": 25, "signal": [25, 28], "propag": 25, "additionali": 25, "photo": 25, "ioniz": 25, "last": [25, 28], "cover": 25, "digit": 25, "raw_record": [25, 28], "data": [25, 28], "afterpuls": 25, "here": [25, 28], "well": 25, "A": 25, "visual": 25, "shown": 25, "figur": [25, 28], "below": [25, 28], "1": 28, "cutax": 28, "numpi": 28, "np": 28, "urlconfig": 28, "user": 28, "hennings": 28, "miniforge3": 28, "lib": 28, "python3": 28, "9": 28, "packag": 28, "numba": 28, "core": 28, "decor": 28, "py": 28, "262": 28, "numbadeprecationwarn": 28, "generated_jit": 28, "deprec": 28, "pleas": 28, "see": 28, "document": 28, "readthedoc": 28, "io": 28, "en": 28, "stabl": 28, "refer": 28, "html": 28, "jit": 28, "more": 28, "inform": 28, "advic": 28, "suitabl": 28, "replac": 28, "warn": 28, "msg": 28, "2023": 28, "08": 28, "17": 28, "09": 28, "55": 28, "06": 28, "868": 28, "utilix": 28, "could": 28, "load": 28, "configur": 28, "file": 28, "creat": 28, "one": 28, "xenon_config": 28, "custom": 28, "path": 28, "export": 28, "your": 28, "config": 28, "led_cal": 28, "led_calibr": 28, "213": 28, "39": 28, "nopython": 28, "keyword": 28, "argument": 28, "wa": 28, "suppli": 28, "implicit": 28, "default": 28, "valu": 28, "current": 28, "fals": 28, "true": 28, "0": 28, "59": 28, "object": 28, "mode": 28, "fall": 28, "back": 28, "behaviour": 28, "when": 28, "detail": 28, "def": 28, "calc_delta_tim": 28, "ext_timings_nv_delta_tim": 28, "puls": 28, "hitlets_nv": 28, "nv_pmt_start": 28, "nv_pmt_stop": 28, "tqdm": 28, "auto": 28, "21": 28, "tqdmwarn": 28, "iprogress": 28, "found": 28, "jupyt": 28, "ipywidget": 28, "user_instal": 28, "autonotebook": 28, "notebook_tqdm": 28, "modulenotfounderror": 28, "traceback": 28, "most": 28, "recent": 28, "call": 28, "lt": 28, "cell": 28, "line": 28, "3": 28, "gt": 28, "2": [4, 28], "4": 28, "6": 28, "No": 28, "modul": 28, "name": 28, "handl": 28, "just": 28, "like": 28, "doe": 28, "our": 28, "first": 28, "part": 28, "full": 28, "correspond": 28, "group": 28, "we": 28, "defin": 28, "context": 28, "At": 28, "stage": 28, "dont": 28, "t": 28, "lot": 28, "so": 28, "insid": 28, "ha": 28, "predefin": 28, "microphyics_context": 28, "regist": 28, "u": 28, "afterward": 28, "st": 28, "set_config": 28, "If": 28, "want": 28, "try": 28, "own": 28, "root": 28, "feel": 28, "free": 28, "given": 28, "exampl": 28, "There": 28, "some": 28, "option": 28, "debug": 28, "print": 28, "out": 28, "dure": 28, "For": 28, "now": 28, "basic": 28, "statement": 28, "source_r": 28, "specifi": 28, "rate": 28, "hz": 28, "distribut": 28, "event": 28, "accord": 28, "n_interactions_per_chunk": 28, "base": 28, "an": 28, "algorithm": 28, "search": 28, "empti": 28, "interval": 28, "cut": 28, "With": 28, "paramet": 28, "lower": 28, "limit": 28, "per": 28, "geant4": 28, "someth": 28, "order": 28, "10k": 28, "100k": 28, "work": 28, "would": 28, "reccomend": 28, "10": 28, "1000": 28, "specif": 28, "cut_delai": 28, "remov": 28, "happen": 28, "after": 28, "sampl": 28, "deal": 28, "finish": 28, "yet": 28, "microphysics_context": 28, "folder": 28, "project2": 28, "lgrandi": 28, "test": 28, "file_nam": 28, "pmt_neutrons_100": 28, "nameerror": 28, "34": 28, "5": 28, "7": 28, "start": 28, "pick": 28, "type": 28, "run_numb": 28, "00000": 28, "geant4_interact": 28, "cluster_index": 28, "clustered_interact": 28, "electric_field_valu": 28, "quanta": 28, "microphysics_summari": 28, "did": 28, "crash": 28, "take": 28, "look": 28, "each": 28, "repres": 28, "singl": 28, "get_df": 28, "head": 28, "also": 28, "go": 28, "second": 28, "give": 28, "posit": 28, "along": 28, "know": 28, "how": 28, "continu": 28, "detector_phys": 28, "pmt_and_daq": 28, "level": 28, "usual": 28, "routin": 28, "do": 28, "full_chain_context": 28, "prepar": 28, "provid": 28, "dictionari": 28, "sr0": 28, "rememb": 28, "select": 28, "suffici": 28, "disk": 28, "space": 28, "propagated_s2_photon": 28, "bit": 28, "heavi": 28, "url_str": 28, "simple_load": 28, "resourc": 28, "format": 28, "fax_config_nt_sr0_v4": 28, "json": 28, "fmt": 28, "evaluate_dri": 28, "amp": 28, "out_dir": 28, "8": 28, "befor": 28, "let": 28, "note": 28, "manual": 28, "care": 28, "done": 28, "determin": 28, "mani": 28, "actual": 28, "record": 28, "quit": 28, "fast": 28, "fastsim": 28, "futur": 28, "guess": 28, "s1_photon": 28, "progress_bar": 28, "long": 28, "row": 28, "channel": 28, "attach": 28, "show": 28, "progress": 28, "bar": 28, "buggi": 28, "mislead": 28, "fraction": 28, "propagated_s1_photon": 28, "complic": 28, "than": 28, "thu": 28, "split": 28, "extract": 28, "them": 28, "reach": 28, "phase": 28, "same": 28, "11": 28, "drifted_electron": 28, "extracted_electron": 28, "electron_tim": 28, "s2_photon": 28, "s2_photons_sum": 28, "virtual": 28, "about": 28, "12": 28, "pmt_afterpuls": 28, "combin": 28, "ap": 28, "result": 28, "get": 28, "sould": 28, "veri": 28, "similar": 28, "real": 28, "tpc": 28, "13": 28, "necessari": 28, "should": 28, "alreadi": 28, "14": 28, "event_info": 28, "15": 28, "16": 28, "20": 28, "readm": 28, "find": 28, "produc": 28, "interactions_in_roi": 28, "data_kind": 28, "e": 28, "g": 28, "toget": 28, "exploit": 28, "integr": 28, "without": 28, "instruct": 28, "pass": 28, "save": 28, "two": 28, "function": 28, "monoenerget": 28, "gamma": 28, "mimic": 28, "kr83m": 28, "decai": 28, "panda": 28, "pd": 28, "monoenergetic_sourc": 28, "n": 28, "df": 28, "datafram": 28, "r": 28, "sqrt": 28, "uniform": 28, "2500": 28, "pi": 28, "xp": 28, "co": 28, "yp": 28, "sin": 28, "zp": 28, "150": 28, "xp_pri": 28, "yp_pri": 28, "zp_pri": 28, "ed": 28, "arrai": 28, "zero": 28, "evtid": 28, "arang": 28, "repeat": 28, "trackid": 28, "parentid": 28, "dtype": 28, "int32": 28, "creaproc": 28, "none": 28, "parenttyp": 28, "edproc": 28, "return": 28, "kr83m_exampl": 28, "half_lif": 28, "156": 28, "94e": 28, "kr": 28, "intermedi": 28, "state": 28, "half": 28, "life": 28, "decay_energi": 28, "32": 28, "kev": 28, "tile": 28, "dt": 28, "exponenti": 28, "log": 28, "zip": 28, "flatten": 28, "1e9": 28, "kr83": 28, "41": 28, "557": 28, "405": 28, "Not": 28, "sinc": 28, "classifi": 28, "onli": 28, "b": [4, 28], "right": 28, "mind": 28, "mai": 28, "requir": 28, "properli": 28, "track": 28, "reconstruct": 28, "proper": 28, "parent": 28, "id": 28, "higher": 28, "longer": 28, "200": 28, "18": 28, "microphysics_instruct": 28, "to_csv": 28, "monoenergetic_200kev": 28, "again": 28, "detect": 28, "treat": 28, "accordingli": 28, "contain": 28, "reason": 28, "100": 28, "consist": 28, "least": 28, "19": 28, "4e14": 28, "00001": 28, "manuali": 28, "ask": 28, "22": 28, "event_info_data": 28, "end": 28, "subsect": 28, "unnecessari": 28, "scatterplot": 28, "23": 28, "matplotlib": 28, "pyplot": 28, "plt": 28, "scipi": 28, "stat": 28, "gaussian_kd": 28, "fig": 28, "ax": 28, "gca": 28, "set_xlim": 28, "2000": 28, "set_ylim": 28, "15000": 28, "60000": 28, "xdata": 28, "cs1_wo_timecorr": 28, "ydata": 28, "cs2_wo_timecorr": 28, "xy": 28, "vstack": 28, "z": 28, "scatter": 28, "c": 28, "": 28, "cmap": 28, "viridi": 28, "set_xlabel": 28, "cs1": 28, "pe": 28, "set_ylabel": 28, "cs2": 28, "differ": 28, "simpl": 28, "24": 28, "build_random_instruct": 28, "x": 28, "y": 28, "130": 28, "5000": 28, "exciton": 28, "e_field": 28, "nestid": 28, "respect": 28, "eventid": 28, "25": 28, "detectorphysics_instruct": 28, "random_detectorphysics_instruct": 28, "index": 28, "lazi": 28, "case": 28, "hijack": 28, "chunkcsvinput": 28, "26": 28, "input_fil": 28, "00002": 28, "27": 28, "28": 28, "29": 28, "my": [], "raw": [], "latex": [], "frac": [], "pm": [], "4ac": [], "2a": [], "2ab": 4}, "objects": {}, "objtypes": {}, "objnames": {}, "titleterms": {"detector": [0, 28], "physic": [0, 28], "simul": [0, 2, 23, 25, 28], "plugin": [0, 2, 23], "welcom": 1, "document": 1, "xenon": [1, 28], "fuse": [1, 24, 28], "setup": 1, "basic": 1, "usag": 1, "technic": 1, "featur": 1, "microphys": [2, 28], "delai": 3, "electron": [3, 28], "electrondrift": 4, "electronextract": 5, "electrontim": 6, "s1photonhit": 7, "s1photonpropag": 8, "s2photonpropag": 9, "secondaryscintil": 10, "chunkinput": 11, "creat": [], "recip": [], "electricfield": 12, "findclust": 13, "mergeclust": 14, "microphysicssummari": 15, "nestyield": 16, "volumesmerg": 17, "xenonnt_belowcathod": 18, "xenonnt_tpc": 19, "pmtafterpuls": 20, "pmtresponseanddaq": 21, "photonsummari": 22, "pmt": [23, 28], "daq": [23, 28], "set": 24, "up": 24, "chain": 25, "overview": 25, "determinist": 26, "random": 26, "seed": 26, "dynam": 27, "chunk": 27, "us": 28, "import": 28, "former": 28, "epix": 28, "wfsim": 28, "s1": 28, "s2": 28, "afterpuls": 28, "process": 28, "csv": 28, "input": 28}, "envversion": {"sphinx.domains.c": 3, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 9, "sphinx.domains.index": 1, "sphinx.domains.javascript": 3, "sphinx.domains.math": 2, "sphinx.domains.python": 4, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "nbsphinx": 4, "sphinx.ext.viewcode": 1, "sphinx": 58}, "alltitles": {"Detector Physics Simulation": [[0, "detector-physics-simulation"]], "Detector Physics Plugins": [[0, null]], "Welcome to the documentation of XENON fuse!": [[1, "welcome-to-the-documentation-of-xenon-fuse"]], "Setup and basics": [[1, null]], "Usage": [[1, null]], "Technical Features": [[1, null]], "Microphysics Simulation": [[2, "microphysics-simulation"]], "Microphysics Plugins": [[2, null]], "Delayed Electrons": [[3, "delayed-electrons"]], "ElectronExtraction": [[5, "electronextraction"]], "ElectronTiming": [[6, "electrontiming"]], "S1PhotonHits": [[7, "s1photonhits"]], "S1PhotonPropagation": [[8, "s1photonpropagation"]], "S2PhotonPropagation": [[9, "s2photonpropagation"]], "SecondaryScintillation": [[10, "secondaryscintillation"]], "ElectricField": [[12, "electricfield"]], "FindCluster": [[13, "findcluster"]], "MergeCluster": [[14, "mergecluster"]], "MicrophysicsSummary": [[15, "microphysicssummary"]], "NestYields": [[16, "nestyields"]], "VolumesMerger": [[17, "volumesmerger"]], "XENONnT_BelowCathode": [[18, "xenonnt-belowcathode"]], "XENONnT_TPC": [[19, "xenonnt-tpc"]], "PMTAfterPulses": [[20, "pmtafterpulses"]], "PMTResponseAndDAQ": [[21, "pmtresponseanddaq"]], "PhotonSummary": [[22, "photonsummary"]], "PMT and DAQ Simulation": [[23, "pmt-and-daq-simulation"]], "PMT and DAQ Plugins": [[23, null]], "Setting up fuse": [[24, "setting-up-fuse"]], "Simulation Chain": [[25, "simulation-chain"]], "Simulation overview": [[25, "simulation-overview"]], "Deterministic Random Seed": [[26, "deterministic-random-seed"]], "Dynamic Chunking": [[27, "dynamic-chunking"]], "Using XENON fuse": [[28, "Using-XENON-fuse"]], "Imports": [[28, "Imports"]], "Microphysics simulation (former epix)": [[28, "Microphysics-simulation-(former-epix)"]], "Detector and Electronics Simulation (former WFSim)": [[28, "Detector-and-Electronics-Simulation-(former-WFSim)"]], "Microphysics": [[28, "Microphysics"], [28, "id1"]], "S1 Simulation": [[28, "S1-Simulation"]], "S2 Simulations": [[28, "S2-Simulations"]], "PMT Afterpulses": [[28, "PMT-Afterpulses"]], "PMT and DAQ": [[28, "PMT-and-DAQ"]], "Processing": [[28, "Processing"]], "CSV Input": [[28, "CSV-Input"]], "Detector Physics": [[28, "Detector-Physics"]], "ChunkInput": [[11, "chunkinput"]], "ElectronDrift": [[4, "electrondrift"]]}, "indexentries": {}})